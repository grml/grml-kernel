[formorer]

- 0009 => (RTAS auf 32Bit) might cause problem ons 64 Bit PPC
- 0012 => take a close look at it
- 0018 => might have side-effects too

[mika]

- cross compiled the ppc kernel on x86, see
  http://michael-prokop.at/blog/2007/01/21/cross-compile-the-linux-kernel-on-debian/

- problems experienced with the kernel-build:

  - had to disable powermac platform because of problems in nvram :-/
  - had to disable FB_VGA16 because of problems in its code
  - drivers/char/drm/drm_sman.c:167: error: redefinition of '__kstrtab_drm_sman_set_manager'
    drivers/char/drm/drm_sman.c:165: error: previous definition of '__kstrtab_drm_sman_set_manager' was here
    -> problem is located in 0013-Add-EXPORT_SYMBOL-drm_sman_set_manager-to-allow-correct-module-link.txt, I
       did not apply the patch therefore
  - had to remove duplicate export of kd_mksound, adjusted arch/powerpc/kernel/ppc_ksyms.c:
    /*#ifdef CONFIG_VT
    EXPORT_SYMBOL(kd_mksound);
    #endif*/
  - deactivated CONFIG_SECCOMP (as suggested by gebi)

- applied the following patches for Linux grmlppc 2.6.19-grml #2 PREEMPT Sat Jan 20 20:26:15 CET 2007 ppc GNU/Linux:

  1000_2.6.19.2.patch
  4150_iteraid.patch
  4300_squashfs-3.1.patch
  4400_speakup-20061129.patch
  5001_grml_logo.patch
  5002_commandlinesize.patch
  oldworld-boot-fix.patch
  powerpc-mkvmlinuz-support-powerpc.patch
  powerpc-mkvmlinuz-support-ppc.patch
  0001-Fix-compilation-issue-when-PPC_MPC52xx-and-PPC_MERGE-are-selected.txt
  0002-Add-USB-OHCI-glue-for-OpenFirmware-devices.txt
  0003-Add-MPC5200-serial-driver.txt
  0004-Add-MPC5200-CPU-PIO-driver-using-libata.txt
  0005-Add-MPC5200-specific-header.txt
  0006-Add-MPC5200-interrupt-controller-driver.txt
  0007-Add-MPC5200-ethernet-driver.txt
  0008-Add-MPC5200-SDMA-PIO-driver.txt
  0009-Added-RTAS-support-for-32bit-PowerPC.txt
  0010-Add-Efika-platform.txt
  0011-Filter-out-efika.txt
  0012-Backport-of_platform.txt
  0014-Added-mpc52xx_find_ipb_freq.txt
  0015-Removed-mpc52xx_find_ipb_freq.txt
  0016-Updated-to-latest-git-revision.txt
  0017-Added-mpc52xx_common.c.txt
  0018-Call-pci_read_irq_line-for-each-PCI-device-to-fix-the-IRQ.txt

- the vmlinuz image plus /usr/lib files were missing (not sure what's the reason, have to
  investigate on that), fixed manually by new Makefile:

% cat Makefile.new
IMAGE_POST_PROCESS_TARGET       = mkvmlinuz_support_install
IMAGE_POST_PROCESS_DIR  = arch/powerpc/boot
INSTALL_MKVMLINUZ_PATH  = /usr/lib/linux-image-2.6.19-grml
TMPTOP = debian/linux-image-2.6.19-grml

all:
        make INSTALL_MKVMLINUZ=$(TMPTOP)$(INSTALL_MKVMLINUZ_PATH) ARCH=powerpc $(EXTRAV_ARG) $(CROSS_ARG) $(IMAGE_POST_PROCESS_TARGET);
