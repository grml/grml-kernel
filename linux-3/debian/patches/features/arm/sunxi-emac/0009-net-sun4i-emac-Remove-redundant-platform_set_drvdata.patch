From: Sachin Kamat <sachin.kamat@linaro.org>
Date: Tue, 4 Jun 2013 00:31:19 +0000
Subject: [PATCH 09/10] net: sun4i-emac: Remove redundant
 platform_set_drvdata()
Origin: https://git.kernel.org/cgit/linux/kernel/git/davem/net-next.git/commit?id=aff5c3557cf72fcad913d8b4b44b055a4e034bb5
Bug-Debian: http://bugs.debian.org/711998

Commit 0998d06310 (device-core: Ensure drvdata = NULL when no
driver is bound) removes the need to set driver data field to
NULL.

Signed-off-by: Sachin Kamat <sachin.kamat@linaro.org>
Cc: Stefan Roese <sr@denx.de>
Cc: Maxime Ripard <maxime.ripard@free-electrons.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
---
 drivers/net/ethernet/allwinner/sun4i-emac.c |    2 --
 1 file changed, 2 deletions(-)

diff --git a/drivers/net/ethernet/allwinner/sun4i-emac.c b/drivers/net/ethernet/allwinner/sun4i-emac.c
index 0bb2f4a..e9c8dbe 100644
--- a/drivers/net/ethernet/allwinner/sun4i-emac.c
+++ b/drivers/net/ethernet/allwinner/sun4i-emac.c
@@ -898,8 +898,6 @@ static int emac_remove(struct platform_device *pdev)
 {
 	struct net_device *ndev = platform_get_drvdata(pdev);
 
-	platform_set_drvdata(pdev, NULL);
-
 	unregister_netdev(ndev);
 	free_netdev(ndev);
 
-- 
1.7.10.4

